<md-dialog aria-label="Mango (Fruit)"  ng-cloak>
  <form>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>{{card.name}}</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="cancel()">
          <md-icon  aria-label="Close dialog">close</md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content>
      <div class="md-dialog-content">
        <form>
            <label><input type="radio"  ng-model="viewerMode" value="image">Image</label>
            <label><input type="radio"  ng-model="viewerMode" value="text">Text</label>
            <label><input type="radio"  ng-model="viewerMode" value="both">Both</label>
        </form>
        <div ng-if="card !== null">
            <div ng-if="showImage()">
                <div>
                    <img ng-src="http://www.mtg-forum.de/db/karten/{{getUnderName()[0]}}/{{getUnderName()}}">
                </div>
            </div>
            <div ng-if="showText()">
                <div>
                    <b>{{card.name}}</b>
                </div>
                <div>
                    <span ng-repeat="symbol in manaSymbols() track by $index" class="mi mi-mana mi-{{symbol}}"></span>
                </div>
                <div>
                    Type: <span class="mi mi-{{card.type.toLowerCase()}}"></span>{{card.type}}
                </div>
                <div ng-if="card.subtypes.length > 0">
                    Subtypes: <span ng-repeat="type in card.subtypes">{{$first ? '' : $last ? ' and ' : ', '}}{{type}}</span>    
                </div>
                <div>
                    Text: <span ng-bind-html="cardText()"></span>
                </div>
            </div>
            <div ng-if="showBoth()" class="pure-g">
                <div class="pure-u-1-3">
                    <img ng-src="http://www.mtg-forum.de/db/karten/{{getUnderName()[0]}}/{{getUnderName()}}" style="height: 310px; width:223px;">
                </div>
                <div class="pure-u-2-3">
                    <div>
                        <b>{{card.name}}</b>
                    </div>
                    <div>
                        <span ng-repeat="symbol in manaSymbols() track by $index" class="mi mi-mana mi-{{symbol}}"></span>
                    </div>
                    <div>
                        Type: <span class="mi mi-{{card.type.toLowerCase()}}"></span>{{card.type}}
                    </div>
                    <div ng-if="card.subtypes.length > 0">
                        Subtypes: <span ng-repeat="type in card.subtypes">{{$first ? '' : $last ? ' and ' : ', '}}{{type}}</span>    
                    </div>
                    <div>
                        Text: <span ng-bind-html="cardText()"></span>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button ng-click="cancel()">
        Done
      </md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
